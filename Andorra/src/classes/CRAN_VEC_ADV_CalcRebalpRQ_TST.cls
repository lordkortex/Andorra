/**
 * CRAN_VEC_ADV_CalcRebalpRQ_TST  Test POJO request Calculate Rebalp Avaloq services
 *
 * Fecha: 20/03/2017
 * @author  Julian Gonzalez Garcia (Vector ITC)
 * @version 1.0
 *
*/
@isTest
private class CRAN_VEC_ADV_CalcRebalpRQ_TST {
	
	@isTest static void requestSerializeTest() {
		String stringJson = '{"lang":"en","order":{"orderNr":"99485433","isNew":false},"printMode":"final","versionList":[{"isFinal":true,"name":"Versión original","id":"2","invstAmount":"100000","invstCurry":"EUR","nodeList":[{"nodeId":{"nodeType":"pos","value":"43"},"CRANCode":"23424","assetId":"23424","assetBuId":"9","cpfQty":"24234","cpfMktVal":"2234","cpfPerc":"23424","remark":"23424"},{"nodeId":{"nodeType":"pos","value":"44"},"CRANCode":"234234","assetId":"2342","assetBuId":"9","cpfQty":"234","cpfMktVal":"234","cpfPerc":"234","remark":"234"}],"restrList":[{"id":"23234234","overrideRestr":false,"justif":"234234"},{"id":"234243","overrideRestr":false,"justif":"234234"}]},{"isFinal":true,"name":"Versión original","id":"2","invstAmount":"100000","invstCurry":"EUR","nodeList":[{"nodeId":{"nodeType":"pos","value":"43"},"CRANCode":"23424","assetId":"23424","assetBuId":"9","cpfQty":"24234","cpfMktVal":"2234","cpfPerc":"23424","remark":"23424"},{"nodeId":{"nodeType":"pos","value":"44"},"CRANCode":"234234","assetId":"2342","assetBuId":"9","cpfQty":"234","cpfMktVal":"234","cpfPerc":"234","remark":"234"}],"restrList":[{"id":"23234234","overrideRestr":false,"justif":"234234"},{"id":"234243","overrideRestr":false,"justif":"234234"}]}]}';
		CRAN_VEC_ADV_CalcRebalpRQ request = (CRAN_VEC_ADV_CalcRebalpRQ)JSON.deserialize(stringJson, CRAN_VEC_ADV_CalcRebalpRQ.class);

	}

	@isTest static void responseSerializeTest() {
		//String stringJson = '{"order":{"orderNr":"99485433","isNew":false},"versionList":{"version":[{"isFinal":"true","name":"VersiÃ³n original","id":"1","invstAmount":"100000","invstCurry":"EUR","node":{"nodeDet":{"nodeId":{"nodeType":"node","value":"1"},"name":"All Assets","restrInfo":"Restricción de concentración de sector Restricción de concentración de títulos 10%: DB. CONT 8% PERP CALL 15/5/2018","restrIcon":"cran$pfm$cran$restr_viol_aa_max","cpfAccr":"12","cpfMktVal":"12","cpfPerc":"12","mpfPerc":"12"},"nodeList":{"node":[{"nodeDet":{"nodeId":{"nodeType":"node","value":"2"},"name":"Money market","cpfAccr":"12","cpfMktVal":"12","cpfPerc":"32","mpfPerc":"24"},"nodeList":{"node":[{"nodeDet":{"nodeId":{"nodeType":"pos","value":"43"},"assetBuId":"9","name":"Compte corrent EUR 1159794.10101","restrInfo":"Restricción de concentración de sector Restricción de concentración de títulos 10%: DB. CONT 8% PERP CALL 15/5/2018","restrIcon":"cran$pfm$cran$restr_viol_aa_max","rat":"1221","price":"211221","curry":"EUR","cpfQty":"2423434","spfQty":"4325","cpfAccr":"345345","spfAccr":"34535","cpfMktVal":"3453453","spfMktVal":"35345","cpfPerc":"100","spfPerc":"0","deltaPerc":"5","mpfPerc":"6","extl":"5","aggrPos":"5","remark":"5"}},{"nodeDet":{"nodeId":{"nodeType":"pos","value":"44"},"assetBuId":"9","name":"Compte corrent USD 1159794.10102","restrInfo":"Restricción de concentración de títulos 10%: DB. CONT 8% PERP CALL 15/5/2018","restrIcon":"cran$pfm$cran$restr_viol_aa_max"}}]}},{"nodeDet":{"nodeId":{"-nodeType":"node","#value":"3"},"name":"Fixed income"},"nodeList":{"node":[{"nodeDet":{"nodeId":{"nodeType":"node","value":"4"},"name":"Emerging Market"},"nodeList":{"node":{"nodeDet":{"nodeId":{"-nodeType":"pos","#value":"27"},"assetBuId":"9","name":"1159794.101 M&G EMERG MKTS BOND-EUR A HA EUR ALCAFUND"}}}},{"nodeDet":{"nodeId":{"nodeType":"node","value":"5"},"name":"Other Assets"}}]}},{"nodeDet":{"nodeId":{"nodeType":"node","value":"6"},"name":"Equities"},"nodeList":{"node":[{"nodeDet":{"nodeId":{"nodeType":"pos","value":"11"},"assetBuId":"9","name":"1159794.101 ABERTIS INFRA.(EX. ACESA) EUR BPPCRAN01"}},{"nodeDet":{"nodeId":{"nodeType":"pos","value":"12"},"assetId":"rere","assetBuId":"9","name":"1159794.101 ACCIONA S.A EUR BPPCRAN01","restrInfo":"ertert","restrIcon":"ertet","rat":"ertet","price":"2131231313","curry":"USD","cpfQty":"345","spfQty":"345345","cpfAccr":"345345","spfAccr":"34535","cpfMktVal":"35345","spfMktVal":"34535","cpfPerc":"3","spfPerc":"12321","deltaPerc":"12313","mpfPerc":"123123","extl":"123123","aggrPos":"123123","remark":"123123"}}]}}]}},"restrList":{"restr":[{"id":"343535","name":"3534535","typeName":"3535345","topRestr":"3453535","evalResult":"34535","remark":"34535","violObj":"34535","violClass":"34767376","violValue":"67367","valueFrom":"3657376","valueTo":"365737","prio":"3567765","overrideRestr":"367367","justif":"36736577"},{"id":"36736577","name":"gfhdhfh","typeName":"gfhdfgh","topRestr":"fghdfh","evalResult":"4334","remark":"45345","violObj":"34535","violClass":"345345","violValue":"345345","valueFrom":"34535","valueTo":"34535","prio":"3345345","overrideRestrRestr":"3454","justif":"retretertretret ertretret"}]}}]}}';
		String stringJson = '{"order":{"orderNr":"559155625","isNew":false},"versionList":[{"isFinal":true,"name":"FSC copia de trabajo","id":"3","invstAmount":100000.0,"invstCurry":"EUR","node":{"nodeDet":{"nodeId":{"nodeType":"node","value":"35938"},"name":"MAA_1","cpfAccr":0.0,"cpfMktVal":123568.52,"cpfPerc":100.0},"nodeList":[{"nodeDet":{"nodeId":{"nodeType":"node","value":"1176440"},"name":"Shares (0801)","cpfAccr":0.0,"cpfMktVal":0.0,"cpfPerc":0.0},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"node","value":"1176441"},"name":"EQ funds (0802)","cpfAccr":0.0,"cpfMktVal":0.0,"cpfPerc":0.0},"nodeList":[{"nodeDet":{"nodeId":{"nodeType":"node","value":"1176442"},"name":"Fund - Exchange Trade Equity (03)","cpfAccr":0.0,"cpfMktVal":0.0,"cpfPerc":0.0},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"node","value":"1176443"},"name":"Other Assets","cpfAccr":0.0,"cpfMktVal":0.0,"cpfPerc":0.0},"nodeList":null}]},{"nodeDet":{"nodeId":{"nodeType":"node","value":"1176444"},"name":"Private equity (12)","cpfAccr":0.0,"cpfMktVal":0.0,"cpfPerc":0.0},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"node","value":"1176445"},"name":"Cash EQ (0101)","cpfAccr":0.0,"cpfMktVal":0.0,"cpfPerc":0.0},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"node","value":"1176446"},"name":"Bonds and Cash FI","cpfAccr":0.0,"cpfMktVal":3012.35,"cpfPerc":2.44,"mpfPerc":0.0},"nodeList":[{"nodeDet":{"nodeId":{"nodeType":"pos","value":"32924"},"assetId":"32924","assetBuId":"6","name":"1010269.10412/EUR/Compte gestionat FI EUR 1010269.10412","cpfAccr":0.0,"cpfMktVal":3012.35,"cpfPerc":2.44,"mpfPerc":0.0,"price":1.0,"curry":"EUR","cpfQty":3012.35,"spfQty":103075.47,"spfAccr":0.0,"spfMktVal":103075.47,"spfPerc":83.42,"extl":false,"aggrPos":false,"isEdit":false},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"pos","value":"33022"},"assetId":"33022","assetBuId":"6","name":"1010269.10414/USD/Compte gestionat FI USD 1010269.10414","cpfAccr":0.0,"cpfMktVal":0.0,"cpfPerc":0.0,"price":1.0,"curry":"USD","cpfQty":0.0,"spfQty":0.0,"spfAccr":0.0,"spfMktVal":0.0,"spfPerc":0.0,"extl":false,"aggrPos":false,"isEdit":false},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"pos","value":"34045"},"assetId":"34045","assetBuId":"6","name":"1010269.10413/EUR/Compte de marge EUR 1010269.10413 B15","cpfAccr":0.0,"cpfMktVal":0.0,"cpfPerc":0.0,"price":1.0,"curry":"EUR","cpfQty":0.0,"spfQty":0.0,"spfAccr":0.0,"spfMktVal":0.0,"spfPerc":0.0,"extl":false,"aggrPos":false,"isEdit":false},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"pos","value":"33383"},"assetId":"33383","assetBuId":"6","name":"1010269.10417/GBP/Compte de marge GBP 1010269.10417 B15","cpfAccr":0.0,"cpfMktVal":0.0,"cpfPerc":0.0,"price":1.0,"curry":"GBP","cpfQty":0.0,"spfQty":0.0,"spfAccr":0.0,"spfMktVal":0.0,"spfPerc":0.0,"extl":false,"aggrPos":false,"isEdit":false},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"pos","value":"34162"},"assetId":"34162","assetBuId":"6","name":"1010269.10415/USD/Compte de marge USD 1010269.10415 B15","cpfAccr":0.0,"cpfMktVal":0.0,"cpfPerc":0.0,"price":1.0,"curry":"USD","cpfQty":0.0,"spfQty":0.0,"spfAccr":0.0,"spfMktVal":0.0,"spfPerc":0.0,"extl":false,"aggrPos":false,"isEdit":false},"nodeList":null}]},{"nodeDet":{"nodeId":{"nodeType":"node","value":"1176447"},"name":"FI funds (0902)","cpfAccr":0.0,"cpfMktVal":105276.41,"cpfPerc":85.2},"nodeList":[{"nodeDet":{"nodeId":{"nodeType":"node","value":"1176448"},"name":"Fund - Exchange Trade Bond (04)","cpfAccr":0.0,"cpfMktVal":15036.39,"cpfPerc":12.17,"mpfPerc":0.0},"nodeList":[{"nodeDet":{"nodeId":{"nodeType":"pos","value":"9223012"},"assetId":"9223012","assetBuId":"6","name":" LYX ETF BTP 10Y MTS ITBD DR EUR 10693","cpfAccr":0.0,"cpfMktVal":12030.48,"cpfPerc":9.74,"price":129.36,"curry":"EUR","cpfQty":93.0,"spfQty":17.0,"spfAccr":0.0,"spfMktVal":2199.12,"spfPerc":1.78,"extl":false,"aggrPos":false,"isEdit":true},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"pos","value":"3237853"},"assetId":"3237853","assetBuId":"6","name":" LYXOR ETF SGI DAILY DOUBLE SHORT BUND EUR 10693","cpfAccr":0.0,"cpfMktVal":3005.91,"cpfPerc":2.43,"price":37.11,"curry":"EUR","cpfQty":81.0,"spfQty":15.0,"spfAccr":0.0,"spfMktVal":556.65,"spfPerc":0.45,"extl":false,"aggrPos":false,"isEdit":true},"nodeList":null}]},{"nodeDet":{"nodeId":{"nodeType":"node","value":"1176449"},"name":"Other Assets","cpfAccr":0.0,"cpfMktVal":90240.02,"cpfPerc":73.03,"mpfPerc":73.03},"nodeList":[{"nodeDet":{"nodeId":{"nodeType":"pos","value":"55730"},"assetId":"55730","assetBuId":"6","name":" CARMIGNAC SECURITE FUND EUR CRAN01","cpfAccr":0.0,"cpfMktVal":12035.79,"cpfPerc":9.74,"mpfPerc":9.74,"price":1755.0,"curry":"EUR","cpfQty":6.86,"spfQty":1.31,"spfAccr":0.0,"spfMktVal":2293.79,"spfPerc":1.86,"extl":false,"aggrPos":false,"isEdit":true},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"pos","value":"51224"},"assetId":"51224","assetBuId":"6","name":" CREDIINVEST SICAV FIXED INC. EUR (I) EUR CRAN01","cpfAccr":0.0,"cpfMktVal":18048.11,"cpfPerc":14.61,"mpfPerc":14.61,"price":10.8511,"curry":"EUR","cpfQty":1663.25,"spfQty":317.76,"spfAccr":0.0,"spfMktVal":3448.03,"spfPerc":2.79,"extl":false,"aggrPos":false,"isEdit":true},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"pos","value":"5655043"},"assetId":"5655043","assetBuId":"6","name":" CREDIINVEST SICAV SHORT TERM FIXED INCOME EURO i1 EUR  EUR CRAN01","cpfAccr":0.0,"cpfMktVal":6012.23,"cpfPerc":4.87,"mpfPerc":4.87,"price":10.0897,"curry":"EUR","cpfQty":595.88,"spfQty":113.66,"spfAccr":0.0,"spfMktVal":1146.83,"spfPerc":0.93,"extl":false,"aggrPos":false,"isEdit":true},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"pos","value":"7067516"},"assetId":"7067516","assetBuId":"6","name":" EDR FINANCIAL BONDS EUR C EUR CRAN01","cpfAccr":0.0,"cpfMktVal":6012.1,"cpfPerc":4.87,"mpfPerc":4.87,"price":130.29,"curry":"EUR","cpfQty":46.14,"spfQty":8.8,"spfAccr":0.0,"spfMktVal":1146.29,"spfPerc":0.93,"extl":false,"aggrPos":false,"isEdit":true},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"pos","value":"7439387"},"assetId":"7439387","assetBuId":"6","name":" JUPITER DYNAMIC BOND EUR DIST EUR CRAN01","cpfAccr":0.0,"cpfMktVal":12035.88,"cpfPerc":9.74,"mpfPerc":9.74,"price":11.64,"curry":"EUR","cpfQty":1034.01,"spfQty":197.28,"spfAccr":0.0,"spfMktVal":2296.34,"spfPerc":1.86,"extl":false,"aggrPos":false,"isEdit":true},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"pos","value":"3306149"},"assetId":"3306149","assetBuId":"6","name":" MUZINICH FUNDS - ENHANCED YIELD SHORT-TERM FUND EUR CRAN01","cpfAccr":0.0,"cpfMktVal":12035.82,"cpfPerc":9.74,"mpfPerc":9.74,"price":140.42,"curry":"EUR","cpfQty":85.71,"spfQty":16.36,"spfAccr":0.0,"spfMktVal":2296.99,"spfPerc":1.86,"extl":false,"aggrPos":false,"isEdit":true},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"pos","value":"6354045"},"assetId":"6354045","assetBuId":"6","name":" SALAR FUND PLC-E3EUR EUR CRAN01","cpfAccr":0.0,"cpfMktVal":6011.98,"cpfPerc":4.87,"mpfPerc":4.87,"price":125.8,"curry":"EUR","cpfQty":47.79,"spfQty":0.0,"spfAccr":0.0,"spfMktVal":0.0,"spfPerc":0.0,"extl":false,"aggrPos":false,"isEdit":true},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"pos","value":"8958540"},"assetId":"8958540","assetBuId":"6","name":" UBAM GLOB HIGH YLD SOL-ACE EUR CRAN01","cpfAccr":0.0,"cpfMktVal":18048.11,"cpfPerc":14.61,"mpfPerc":14.61,"price":152.49,"curry":"EUR","cpfQty":118.36,"spfQty":22.61,"spfAccr":0.0,"spfMktVal":3448.26,"spfPerc":2.79,"extl":false,"aggrPos":false,"isEdit":true},"nodeList":null}]}]},{"nodeDet":{"nodeId":{"nodeType":"node","value":"1176450"},"name":"Cross asset investments (10)","cpfAccr":0.0,"cpfMktVal":0.0,"cpfPerc":0.0,"mpfPerc":0.0},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"node","value":"1176451"},"name":"Hedge Funds (11)","cpfAccr":0.0,"cpfMktVal":15279.76,"cpfPerc":12.37,"mpfPerc":7.5},"nodeList":[{"nodeDet":{"nodeId":{"nodeType":"pos","value":"56615"},"assetId":"56615","assetBuId":"6","name":" CREDIT FONS GESTIO ALT. DOLAR USD 2748705.303","cpfAccr":0.0,"cpfMktVal":7529.96,"cpfPerc":6.09,"mpfPerc":6.09,"price":0.9609,"curry":"USD","cpfQty":8329.27,"spfQty":489.09,"spfAccr":0.0,"spfMktVal":442.16,"spfPerc":0.36,"extl":false,"aggrPos":false,"isEdit":true},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"pos","value":"6249916"},"assetId":"6249916","assetBuId":"6","name":" GAMCO MERGER ARBITRAGE-A EUR EUR CRAN01","cpfAccr":0.0,"cpfMktVal":6012.12,"cpfPerc":4.87,"price":11.1021,"curry":"EUR","cpfQty":541.53,"spfQty":100.48,"spfAccr":0.0,"spfMktVal":1115.54,"spfPerc":0.9,"extl":false,"aggrPos":false,"isEdit":true},"nodeList":null},{"nodeDet":{"nodeId":{"nodeType":"pos","value":"54475"},"assetId":"54475","assetBuId":"6","name":" INVESTCREDIT VALIRA CONSERVATIVE USD (A) USD 10693","cpfAccr":0.0,"cpfMktVal":1737.68,"cpfPerc":1.41,"mpfPerc":1.41,"price":0.8298,"curry":"USD","cpfQty":2225.82,"spfQty":132.01,"spfAccr":0.0,"spfMktVal":103.06,"spfPerc":0.08,"extl":false,"aggrPos":false,"isEdit":true},"nodeList":null}]},{"nodeDet":{"nodeId":{"nodeType":"node","value":"1176452"},"name":"Other Assets","cpfAccr":0.0,"cpfMktVal":0.0,"cpfPerc":0.0,"mpfPerc":0.0},"nodeList":null}]},"omsId":null,"restrList":null}],"errors":null}';
		CRAN_VEC_ADV_CalcRebalpRS response = (CRAN_VEC_ADV_CalcRebalpRS)JSON.deserialize(stringJson, CRAN_VEC_ADV_CalcRebalpRS.class);
		String responseSerialize = JSON.serialize(response);
		System.debug(response);
	}
}